<!DOCTYPE html>
<html>
<head>
	<title>Your ominously spinning head.</title>
	<style>
    html, body {
      margin: 0;
      background-color: black;
    }

		canvas {
			width: 100%;
			height: 100%;
      display: block;
		}

		#snapp{
			margin: 0px;
		}

		#info {
			color: White;
			font-family: Helvetica;
			font-size: 4vw;
			position: absolute;
			top: 30px;
			width: 100%;
			text-align: center;
			z-index: 100;
			display: block;
		}
		#info2 {
			color: White;
			font-family: Helvetica;
			font-size: 3vw;
			position: absolute;
			bottom: 30px;
			width: 100%;
			text-align: center;
			z-index: 100;
		}

		#option1 {
			color: White;
			font-family: Helvetica;
			font-size: 2vw;
			position: absolute;
			top: 300px;
			width: 100%;
			text-align: center;
			z-index: 100;
		}
	</style>
</head>
<div id="info">
	<div>THE DAMNED HEAD (THAT REFUSES TO INTROSPECT).</div>
	<button type="button" onclick="switch_v('VISION')">VISION</button>
	<button type="button" onclick="switch_v('TUNES')">TUNES</button>
	<button type="button" onclick="switch_v('WORDS')">WORDS</button>
	<button type="button" onclick="switch_v('AMBIENCE')">AMBIENCE</button>
	<button type="button" onclick="toggle()">Alter my course!</button>
	<div>d for default</div>
</div>
<div id="info2">
	Solve the world's problems through either inspiration or preservation of this part.
</div>

<body id="snapp">
	<script src="js/three.min.js"></script>
	<script src="js/GLTFLoader.js"></script>
	<script src="js/OrbitControls.js"></script>
	<script src="js/tween.umd.js"></script>
	<script>

		var renderer = new THREE.WebGLRenderer();
		var scene = new THREE.Scene();
		var loader = new THREE.GLTFLoader();
		var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 10000);
		var controls = new THREE.OrbitControls(camera, renderer.domElement);
		var model;
		var material = new THREE.MeshStandardMaterial();
		var light = new THREE.HemisphereLight(0xffffff, 0x000000, 0.5);
		var preset = true;
		var focused = false;
		var organss = {'VISION': [-0.047434535332279655, -0.1788981553339662, 1.6070452025245767],
										'TUNES': [-1.5859118908118746, -0.6146201839876595, 0.56562303537245],
										'WORDS': [0.4002358318768384, -0.8014289061473174, 2.2678613534906424],
										'AMBIENCE': [0.080312546657849, -0.47493251433984374, 1.378197649116327]};

    function rendersnap(renderer) {
      const canvas = renderer.domElement;
      const pixelRatio = window.devicePixelRatio;
      const width = window.innerWidth;
      const height = window.innerHeight;
      const needResize = canvas.width !== width || canvas.height !== height;
      if (needResize) {
        renderer.setSize(width, height);
      }
      return needResize;
    }

		function animate() {
      if (rendersnap(renderer)) {
      const canvas = renderer.domElement;
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      }
			controls.update();
			renderer.render(scene, camera);
      requestAnimationFrame(animate);
		}

		function importsetup() {
			model.scene.position.set(0, -1.2, 0);
		}

		function loadObject() {
			loader.load(
				'faceSculpting.glb',
				function(gltf) {
					model = gltf;
					scene.add(model.scene);
					importsetup()
				},
				function(error) {
					console.log("loading");;
				}
			)
		}

		function switch_v (organ) {
			if (organ === 'VISION') {
				if (controls.autoRotate == true) {
					toggle();
					focused = true;
					camera.position.set(-0.047434535332279655, -0.1788981553339662, 1.6070452025245767);
				} else {
					camera.position.set(-0.047434535332279655, -0.1788981553339662, 1.6070452025245767);
				}
			}
			if (organ === 'TUNES') {
				if (controls.autoRotate == true) {
					toggle();
					focused = true;
					camera.position.set(-1.5859118908118746, -0.6146201839876595, 0.56562303537245);
				} else {
					camera.position.set(-1.5859118908118746, -0.6146201839876595, 0.56562303537245);
				}
			}
			if (organ === 'WORDS') {
				if (controls.autoRotate == true) {
					toggle();
					focused = true;
					camera.position.set(0.4002358318768384, -0.8014289061473174, 2.2678613534906424);
				} else {
					camera.position.set(0.4002358318768384, -0.8014289061473174, 2.2678613534906424);
				}
			}
			if (organ === 'AMBIENCE') {
				if (controls.autoRotate == true) {
					toggle();
					focused = true;
					camera.position.set(0.080312546657849, -0.47493251433984374, 1.378197649116327);
				} else {
					camera.position.set(0.080312546657849, -0.47493251433984374, 1.378197649116327);
				}
			}
		}

		function toggle () {
			preset = !preset
			controls.autoRotate = preset;
		}

		window.onkeydown = function(event){
			if(event.keyCode === 32) {
				console.log("it is now:", controls.autoRotate);
				event.preventDefault();
				toggle();
			}
			if(event.keyCode === 68) {
				event.preventDefault();
				camera.position.set(0, 0, 5);
				preset = false;
				controls.autoRotate = preset;
			}
		}

		controls.autoRotate = true;
		controls.autoRotateSpeed = 10;
		renderer.setSize(window.innerWidth, window.innerHeight);
		document.body.appendChild(renderer.domElement);
		controls.enableDamping = true;
		controls.maxPolarAngle = (Math.PI + 0.7) / 2;
		controls.minPolarAngle = (Math.PI - 0.7) / 2;
		controls.enablePan = false;

		camera.position.set(0, 0, 5);
		scene.add(light);
		loadObject();
		animate();
	</script>
</body>
</html>
